<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <!-- Metadados essenciais -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Ícone da aba do navegador -->
    <link
      rel="shortcut icon"
      href="css/img/logoAtualizada.png"
      type="image/x-icon"
    />

    <!-- Estilos locais -->
    <link rel="stylesheet" href="css/telaInicio.css" />

    <!-- Fonte Inter -->
    <link rel="preconnect" href="https://rsms.me/" />
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css" />

    <!-- Ícones Flaticon - diferentes estilos -->
    <link
      rel="stylesheet"
      href="https://cdn-uicons.flaticon.com/2.6.0/uicons-regular-straight/css/uicons-regular-straight.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn-uicons.flaticon.com/2.6.0/uicons-thin-rounded/css/uicons-thin-rounded.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn-uicons.flaticon.com/2.6.0/uicons-thin-chubby/css/uicons-thin-chubby.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn-uicons.flaticon.com/2.6.0/uicons-solid-straight/css/uicons-solid-straight.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn-uicons.flaticon.com/2.6.0/uicons-regular-rounded/css/uicons-regular-rounded.css"
    />

    <!-- Biblioteca de gráficos ApexCharts -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

    <!-- Middleware de autenticação (verifica token e redireciona para login se necessário) -->
    <script type="module" src="integracoes/authMiddleware.js"></script>

    <!-- Título da página -->
    <title>CerealistaSouza</title>
  </head>

  <body>
    <!-- Container principal que envolve toda a tela -->
    <div class="containerTotal">
      <!-- Menu lateral com logo e botões de navegação -->
      <div class="containerButtons">
        <!-- Logo superior -->
        <img src="..." id="logo" />

        <!-- Botões do menu (exemplo omitido com '...') -->
        <div class="rowbutton">...</div>
        ...
      </div>

      <!-- Cabeçalho superior com imagem do usuário -->
      <header id="headersuperior">
        <div id="imageUser">
          <img src="" alt="" />
        </div>
      </header>

      <!-- Conteúdo principal da dashboard -->
      <div class="container">
        <h1 id="txtinicio">Dashboard</h1>

        <!-- Cards com dados do estoque -->
        <div class="containertrafic">
          <div id="dadosEstoque" class="totalgreen">...</div>
          ...
        </div>

        <!-- Primeira linha de gráficos -->
        <div class="craficosLinha">
          <div id="chart1"></div>
          <div id="chart3"></div>
        </div>

        <!-- Segunda linha: gráfico + bloco de ajuda -->
        <div class="segundaLinha">
          <div id="chart2"></div>
          <div class="ajudasblue"></div>
        </div>
      </div>

      <!-- Modal de confirmação de logout -->
      <dialog id="modalLogin">
        <button id="sairLogin">Sair</button>
      </dialog>
    </div>

    <!-- Script de controle do modal de logout -->
    <script>
      // Seletores do modal e botão
      const dialogLogin = document.querySelector("#modalLogin");
      const openSair = document.querySelector("#imageUser");

      // Exibe o modal ao clicar na imagem do usuário
      openSair.addEventListener("click", (e) => {
        dialogLogin.showModal();
      });

      // Fecha o modal ao clicar fora dele
      dialogLogin.addEventListener("click", (event) => {
        const rectLogin = dialogLogin.getBoundingClientRect();
        if (
          event.clientX < rectLogin.left ||
          event.clientX > rectLogin.right ||
          event.clientY < rectLogin.top ||
          event.clientY > rectLogin.bottom
        ) {
          dialogLogin.close();
        }
      });
    </script>

    <!-- Integração com backend: gráficos, dados, etc -->
    <script src="integracoes/inicioIntegration.js"></script>
  </body>
</html>