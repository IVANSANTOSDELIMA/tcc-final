<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="widtd=device-widtd, initial-scale=1.0">
    <link rel="stylesheet" href="css/telafuncionarios.css">
    <link rel="preconnect" href="https://rsms.me/">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/2.6.0/uicons-regular-straight/css/uicons-regular-straight.css">
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/2.6.0/uicons-thin-rounded/css/uicons-thin-rounded.css">
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/2.6.0/uicons-thin-chubby/css/uicons-thin-chubby.css">
    <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/2.6.0/uicons-solid-straight/css/uicons-solid-straight.css'>
    <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/2.6.0/uicons-solid-straight/css/uicons-solid-straight.css'>
    <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/2.6.0/uicons-tdin-rounded/css/uicons-tdin-rounded.css'>
    <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/2.6.0/uicons-regular-straight/css/uicons-regular-straight.css'>
    <link rel='stylesheet' href='https://cdn-uicons.flaticon.com/2.6.0/uicons-bold-straight/css/uicons-bold-straight.css'>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <title>CerealistaSouza</title>
    
</head>
<body>
        <div class="containerTotal">
            <div class="containerButtons">
                <img src="css/img/Logotipo-Cerealista.png" alt="logoLetra" id="logo">
                <div class="rowbutton"><i class="fi fi-rs-apps"></i><button type="button">Dashboard</button><i class="fi fi-ss-angle-right" style="font-size: 20px; position: absolute; top: 45%; left: 70%;"></i></div>
                <div class="rowbutton"><i class="fi fi-tr-users"></i><button type="button">Funcionarios</button></div>
                <div class="rowbutton"><i class="fi fi-tr-boxes"></i><button type="button">Estoque</button><i class="fi fi-ss-angle-right"style="font-size: 20px; position: absolute; top: 45%; left: 50%;"></i></div>
                <div class="rowbutton"><i class="fi fi-tr-chart-line-up"></i><button type="button">Movimentações</button><i class="fi fi-ss-angle-right"style="font-size: 20px; position: absolute; top: 45%; left: 80%;"></i></div>  
            </div>
            <header id="headersuperior">
                <div class="config">
                    <i class="fi fi-tc-settings" style="font-size: 30px; position: absolute; top: 20%; left: 82%;"></i>
                    <div class="imageUser"><img src="" alt=""></div>
                </div>
            </header>
            
            <div class="container">
                <button id="openButton">+</button>
            </div>
            <div id="buttonCategory">
                <div class="category-column">
                    <label for="NomeCategoria"><strong>Nome</strong></label>
                    <input type="search" name="NomeCategory" class="inputCtg">
                </div>
                <div class="category-column">
                    <label for="categorias"><strong>categorias</strong></label>
                    <input type="search" name="categorias" class="inputCtg">
                </div>
            </div>
            <div id="headertable"></div>
            <!-- local onde vai aparecer os funcionarios registrados -->
            <div id="toptable">
                <div id="table"></div>
            </div>
            <dialog id="modalDialog">
                        <button id="closeModal"><i class="fi fi-bs-cross"></i></button>
                        <!-- <form id="cadastroForm"> -->
                            <div class="form-row"id="line-0">
                                <div class="form-column">
                                    <label for="nome">Nome:</label>
                                    <input type="text" id="nome" name="nome" required>
                                </div>
                                <div class="form-column">
                                    <label for="nivelAcesso">Nível de acesso:</label>
                                    <input type="text" id="nivelAcesso" name="nivelAcesso" required>
                                </div>
                            </div>
                
                            <div class="form-row" id="line-1">
                                <div class="form-column">
                                    <label for="cpf">CPF:</label>
                                    <input type="text" id="cpf" name="cpf" required>
                                </div>
                                <div class="form-column">
                                    <label for="cargo">Cargo:</label>
                                    <input type="text" id="cargo" name="cargo" required>
                                </div>
                                <div class="form-column">
                                    <label for="dataAdmissao">Data de Admissão:</label>
                                    <input type="date" id="dataAdmissao" name="dataAdmissao" required>
                                </div>
                            </div>
                
                            <div class="form-row"  id="line-2">
                                <div class="form-column">
                                    <label for="telefone">Telefone:</label>
                                    <input type="tel" id="telefone" name="telefone" required>
                                </div>
                                <div class="form-column">
                                    <label for="email">Email:</label>
                                    <input type="email" id="email" name="email" required>
                                </div>
                            </div>
                
                            <div class="form-row" id="line-3">
                                <div class="form-column">
                                    <label for="estado">Estado:</label>
                                    <input type="text" id="estado" name="estado" required>
                                </div>
                                <div class="form-column">
                                    <label for="cidade">Cidade:</label>
                                    <input type="text" id="cidade" name="cidade" required>
                                </div>
                                <div class="form-column">
                                    <label for="cep">CEP:</label>
                                    <input type="text" id="cep" name="cep" required>
                                </div>
                            </div>
                
                            <div class="form-row" id="line-4">
                                <div class="form-column">
                                    <label for="rua">Rua:</label>
                                    <input type="text" id="rua" name="rua" required>
                                </div>
                                <div id="line-4-1">
                                    <div class="form-column">
                                        <label for="bairro">Bairro:</label>
                                        <input type="text" id="bairro" name="bairro" required>
                                    </div>
                                    <div class="form-column">
                                        <label for="numero">Número:</label>
                                        <input type="text" id="numero" name="numero" required>
                                    </div>
                                </div>
                            </div>
                                <div class="preview">
                                    <img id="preview-selected-image" />
                                </div>
                            <div class="preview-imagem-container">
                                <input type="file" id="file-upload" name="file" accept="image/*" onchange="previewImage(event)" required/>
                            </div>
                            <div class="form-row"  id="line-5">
                                <div class="form-column">
                                    <label for="complemento">Complemento:</label>
                                    <textarea id="complemento" name="complemento"></textarea>
                                </div>
                                <div class="form-column">
                                    <label for="senha">Senha:</label>
                                    <input type="password" id="senha" name="senha" required>
                                </div>
                            </div>
                
                            <button id="submitform" onclick="submit()">Confirmar</button>
                        <!-- </form> -->
            </dialog>
        </div>
        <!-- script do modal -->
        <script>
            const dialog = document.querySelector("#modalDialog")
            const openButton = document.querySelector("#openButton")
            const closeModal = document.querySelector("#closeModal")
            const submitModal = document.querySelector("#submitform")
            const visualizarModal = document.querySelector("buttonVisualizar")
            const editModal = document.querySelector("buttonEdit")


            openButton.addEventListener("click", (e) =>{
                dialog.showModal()
            })
            closeModal.addEventListener("click", (e) =>{
                dialog.close()
            })
            submitModal.addEventListener("click", (e) =>{
                dialog.close()
            })
            // submitModal.addEventListener("submit", (e) => {
            //     e.preventDefault()

            //     console.log("Enviando dados")
            // })

            // dialog.addEventListener("click", (e) => {
            //     if (event.target == dialog) {
            //         dialog.close()
            //     }
            // })

            dialog.addEventListener("click", (event) => {
                const rect = dialog.getBoundingClientRect()
                if(
                    event.clientX < rect.left ||
                    event.clientX > rect.right ||
                    event.clientY < rect.top ||
                    event.clientY > rect.bottom
                ) {
                    dialog.close()
                }
            })


            // script para aparecer a imagem na tela

            const previewImage = (event) => {
                const files = event.target.files
                if(files.lengtd > 0){
                    const imageUrl = URL.createObjectURL(files[0])
                    const imageElement = document.getElementById("preview-selected-image")
                    imageElement.src = imageUrl
                }
            }
        </script>
        <script src="crud/crudFuncionarios.js"></script>
</body>
</html>